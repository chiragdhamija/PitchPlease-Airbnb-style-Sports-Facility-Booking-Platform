<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Manage Facilities - PitchPlease</title>
    <meta
      name="description"
      content="Manage your sports facilities on PitchPlease - create, edit, and delete your venue listings."
    />
    <meta
      name="keywords"
      content="sports, facilities, manage, create, edit, delete"
    />

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="assets/vendor/fontawesome-free/css/all.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet" />

    <!-- Additional Custom CSS for Manage Facilities -->
    <style>
      .tab-content {
        padding: 20px 0;
      }
      
      .facility-card {
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      
      .facility-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
      }
      
      .facility-header {
        background-color: #f8f9fa;
        padding: 15px 20px;
        border-bottom: 1px solid #dee2e6;
      }
      
      .facility-content {
        padding: 20px;
      }
      
      .facility-meta {
        display: flex;
        flex-wrap: wrap;
        margin-bottom: 15px;
      }
      
      .facility-meta-item {
        flex: 0 0 50%;
        margin-bottom: 10px;
      }
      
      .meta-label {
        font-weight: 600;
        color: #6c757d;
        font-size: 0.9rem;
      }
      
      .facility-actions {
        display: flex;
        justify-content: flex-end;
        padding-top: 15px;
        border-top: 1px solid #dee2e6;
      }
      
      .form-container {
        background-color: #fff;
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
      }
      
      .nav-tabs .nav-link {
        font-weight: 600;
        color: #495057;
      }
      
      .nav-tabs .nav-link.active {
        color: var(--color-primary, #2eca6a);
        border-color: #dee2e6 #dee2e6 #fff;
      }
      
      .price-badge {
        background-color: var(--color-primary, #2eca6a);
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.9rem;
      }
      
      .loader {
        display: none;
        border: 4px solid #f3f3f3;
        border-top: 4px solid var(--color-primary, #2eca6a);
        border-radius: 50%;
        width: 20px;
        height: 20px;
        animation: spin 2s linear infinite;
        margin-left: 10px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .empty-state {
        text-align: center;
        padding: 40px 20px;
        background-color: #f8f9fa;
        border-radius: 10px;
        margin: 20px 0;
      }
      
      .empty-state i {
        font-size: 3rem;
        color: #dee2e6;
        margin-bottom: 20px;
      }
      
      .modal-title {
        color: var(--color-primary, #2eca6a);
      }
      
      .btn-primary {
        background-color: var(--color-primary, #2eca6a);
        border-color: var(--color-primary, #2eca6a);
      }
      
      .btn-primary:hover {
        background-color: #27af5f;
        border-color: #27af5f;
      }
      
      .btn-outline-primary {
        color: var(--color-primary, #2eca6a);
        border-color: var(--color-primary, #2eca6a);
      }
      
      .btn-outline-primary:hover {
        background-color: var(--color-primary, #2eca6a);
        color: white;
      }
      
      .btn-danger {
        background-color: #dc3545;
        border-color: #dc3545;
      }
      
      .alert {
        display: none;
        margin-top: 20px;
      }
    </style>
  </head>

  <body class="manage-facilities-page">
    <header id="header" class="header d-flex align-items-center fixed-top">
      <div
        class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between"
      >
        <a href="index.html" class="logo d-flex align-items-center">
          <!-- Uncomment the line below if you also wish to use an image logo -->
          <!-- <img src="assets/img/logo.png" alt=""> -->
          <h1 class="sitename">Pitch<span>Please</span></h1>
        </a>

        <nav id="navmenu" class="navmenu">
            <ul>
              <li><a href="index.html" class="active">Home</a></li>
              <li><a href="about.html">About</a></li>
              <li><a href="services.html">Services</a></li>
              <li><a href="properties.html">Facilities</a></li>
              <li class="dropdown">
                <a href="#"
                  ><span>More</span>
                  <i class="bi bi-chevron-down toggle-dropdown"></i
                ></a>
                <ul>
                  
                  <li><a href="transactionsByYou.html">Transactions By You</a></li>
                  <!-- <li><a href="transactionsToYou.html">Transactions To You</a></li> -->
                  <li><a href="myOfferings.html">My Offerings</a></li>
  
                </ul>
              </li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
            <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
          </nav>
      </div>
    </header>

    <main class="main">
      <!-- Page Title -->
      <div class="page-title" data-aos="fade">
        <div class="heading">
          <div class="container">
            <div class="row d-flex justify-content-center text-center">
              <div class="col-lg-8">
                <h1>Manage Facilities</h1>
                <p class="mb-0">
                  Create, view, edit, and manage your sports facilities all in one place.
                  List your venues on PitchPlease and connect with sports enthusiasts.
                </p>
              </div>
            </div>
          </div>
        </div>
        <nav class="breadcrumbs">
          <div class="container">
            <ol>
              <li><a href="index.html">Home</a></li>
              <li class="current">Manage Facilities</li>
            </ol>
          </div>
        </nav>
      </div>
      <!-- End Page Title -->

      <!-- Manage Facilities Section -->
      <section id="manage-facilities" class="section">
        <div class="container">
          <!-- Navigation Tabs -->
          <ul class="nav nav-tabs" id="facilityTabs" role="tablist" data-aos="fade-up">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="view-tab" data-bs-toggle="tab" data-bs-target="#view-facilities" 
                type="button" role="tab" aria-controls="view-facilities" aria-selected="true">
                <i class="bi bi-grid me-2"></i>My Facilities
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="create-tab" data-bs-toggle="tab" data-bs-target="#create-facility" 
                type="button" role="tab" aria-controls="create-facility" aria-selected="false">
                <i class="bi bi-plus-circle me-2"></i>Create Facility
              </button>
            </li>
          </ul>

          <!-- Tab Content -->
          <div class="tab-content" id="facilityTabsContent">
            <!-- View Facilities Tab -->
            <div class="tab-pane fade show active" id="view-facilities" role="tabpanel" aria-labelledby="view-tab">
              <!-- Status Message -->
              <div id="status-message" class="alert" role="alert"></div>
              
              <!-- Loading Indicator -->
              <div id="loading" class="text-center py-5">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-3">Loading your facilities...</p>
              </div>
              
              <!-- Error Message -->
              <div id="error-alert" class="alert alert-danger d-none">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <span id="error-message"></span>
              </div>
              
              <!-- Empty State -->
              <div id="empty-state" class="empty-state d-none">
                <i class="bi bi-building"></i>
                <h3 class="fs-4 mb-2">No facilities found</h3>
                <p class="text-muted mb-4">You don't have any facilities registered yet.</p>
                <button class="btn btn-primary" onclick="switchToCreateTab()">
                  <i class="bi bi-plus-circle me-2"></i>Create Your First Facility
                </button>
              </div>
              
              <!-- Facilities Container -->
              <div id="facilities-container" class="row d-none">
                <!-- Facilities will be inserted here by JavaScript -->
              </div>
            </div>
            
            <!-- Create Facility Tab -->
            <div class="tab-pane fade" id="create-facility" role="tabpanel" aria-labelledby="create-tab">
              <div class="row justify-content-center">
                <div class="col-lg-10">
                  <div class="form-container" data-aos="fade-up">
                    <div class="text-center mb-4">
                      <h3>Create New Facility</h3>
                      <p class="text-muted">Fill in the details to create a new facility listing</p>
                    </div>
                    
                    <form id="facility-form">
                      <div class="row mb-3">
                        <div class="col-md-6">
                          <label for="name" class="form-label">Facility Name*</label>
                          <input type="text" class="form-control" id="name" name="name" required>
                        </div>
                        <div class="col-md-6">
                          <label for="facilityType" class="form-label">Facility Type*</label>
                          <select class="form-select" id="facilityType" name="facilityType" required>
                            <option value="" selected disabled>Select a type</option>
                            <option value="Football Field">Football Field</option>
                            <option value="Basketball Court">Basketball Court</option>
                            <option value="Tennis Court">Tennis Court</option>
                            <option value="Swimming Pool">Swimming Pool</option>
                            <option value="Gym">Gym</option>
                            <option value="Other">Other</option>
                          </select>
                        </div>
                      </div>
                      
                      <div class="mb-3">
                        <label for="description" class="form-label">Description*</label>
                        <textarea class="form-control" id="description" name="description" rows="3" required
                          placeholder="Provide details about your facility including amenities, condition, and special features"></textarea>
                      </div>
                      
                      <div class="mb-3">
                        <label for="address" class="form-label">Address*</label>
                        <input type="text" class="form-control" id="address" name="address" required>
                      </div>
                      
                      <div class="row mb-3">
                        <div class="col-md-6">
                          <label for="city" class="form-label">City*</label>
                          <input type="text" class="form-control" id="city" name="city" required>
                        </div>
                        <div class="col-md-6">
                          <label for="hourlyRate" class="form-label">Hourly Rate ($)*</label>
                          <input type="number" class="form-control" id="hourlyRate" name="hourlyRate" min="0" step="0.01" required>
                        </div>
                      </div>
                      
                      <!-- Hidden field for ownerId -->
                      <!-- <input type="hidden" id="ownerId" name="ownerId" value="1"> -->
                      
                      <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-primary" id="submit-btn">
                          Create Facility
                          <span class="loader" id="loader"></span>
                        </button>
                      </div>
                    </form>
                    
                    <div class="alert alert-success" id="success-alert">
                      <strong>Success!</strong> The facility has been created successfully.
                    </div>
                    
                    <div class="alert alert-danger" id="create-error-alert">
                      <strong>Error!</strong> <span id="create-error-message"></span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- /Manage Facilities Section -->
    </main>

    <!-- Edit Facility Modal -->
    <div class="modal fade" id="editFacilityModal" tabindex="-1" aria-labelledby="editFacilityModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editFacilityModalLabel">Edit Facility</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="edit-form">
              <input type="hidden" id="edit-facility-id">
              
              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="edit-name" class="form-label">Facility Name*</label>
                  <input type="text" class="form-control" id="edit-name" name="edit-name" required>
                </div>
                <div class="col-md-6">
                  <label for="edit-facility-type" class="form-label">Facility Type*</label>
                  <select class="form-select" id="edit-facility-type" name="edit-facility-type" required>
                    <option value="Football Field">Football Field</option>
                    <option value="Basketball Court">Basketball Court</option>
                    <option value="Tennis Court">Tennis Court</option>
                    <option value="Swimming Pool">Swimming Pool</option>
                    <option value="Gym">Gym</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
              </div>
              
              <div class="mb-3">
                <label for="edit-description" class="form-label">Description*</label>
                <textarea class="form-control" id="edit-description" name="edit-description" rows="3" required></textarea>
              </div>
              
              <div class="mb-3">
                <label for="edit-address" class="form-label">Address*</label>
                <input type="text" class="form-control" id="edit-address" name="edit-address" required>
              </div>
              
              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="edit-city" class="form-label">City*</label>
                  <input type="text" class="form-control" id="edit-city" name="edit-city" required>
                </div>
                <div class="col-md-6">
                  <label for="edit-hourly-rate" class="form-label">Hourly Rate ($)*</label>
                  <input type="number" class="form-control" id="edit-hourly-rate" name="edit-hourly-rate" min="0" step="0.01" required>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="save-edit-btn">Save Changes</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteFacilityModal" tabindex="-1" aria-labelledby="deleteFacilityModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteFacilityModalLabel">Confirm Deletion</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="text-center mb-4">
              <i class="bi bi-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
            </div>
            <p>Are you sure you want to delete this facility? This action cannot be undone.</p>
            <p class="fw-bold" id="facility-to-delete-name"></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="confirm-delete-btn">Delete Facility</button>
          </div>
        </div>
      </div>
    </div>

    <footer id="footer" class="footer light-background">
      <div class="container">
        <div class="row gy-3">
          <div class="col-lg-3 col-md-6 d-flex">
            <i class="bi bi-geo-alt icon"></i>
            <div class="address">
              <h4>Address</h4>
              <p>123 Sports Avenue</p>
              <p>New York, NY 10001</p>
              <p></p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-flex">
            <i class="bi bi-telephone icon"></i>
            <div>
              <h4>Contact</h4>
              <p>
                <strong>Phone:</strong> <span>+1 (555) 123-4567</span><br />
                <strong>Email:</strong> <span>info@pitchplease.com</span><br />
              </p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-flex">
            <i class="bi bi-clock icon"></i>
            <div>
              <h4>Support Hours</h4>
              <p>
                <strong>Mon-Sat:</strong> <span>7AM - 11PM</span><br />
                <strong>Sunday:</strong> <span>8AM - 10PM</span>
              </p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <h4>Follow Us</h4>
            <div class="social-links d-flex">
              <a href="#" class="twitter"><i class="bi bi-twitter-x"></i></a>
              <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
              <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
              <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
            </div>
          </div>
        </div>
      </div>

      <div class="container copyright text-center mt-4">
        <p>
          Â© <span>Copyright</span>
          <strong class="px-1 sitename">PitchPlease</strong>
          <span>All Rights Reserved</span>
        </p>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you've purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
          Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
      </div>
    </footer>

    <!-- Scroll Top -->
    <a
      href="#"
      id="scroll-top"
      class="scroll-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <!-- Preloader -->
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>

    <!-- Main JS File -->
     <script src="assets/js/auth.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/manage-facilities.js"></script>

  </body>
</html>